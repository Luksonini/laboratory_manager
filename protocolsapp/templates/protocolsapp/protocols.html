{% extends 'base/base.html' %}
{% load static %}

{% block content %}
    <form method="post" enctype="multipart/form-data" id="uploadForm">
        {% csrf_token %}
        <div style="display: none;">  <!-- Ukryj pole do wyboru pliku -->
            {{ protocol_form.file }}
        </div>
        <button type="button" id="uploadButton" class="rounded-full py-2 px-4 bg-indigo-400 hover:bg-indigo-500 text-white text-base font-normal mt-3">Upload File</button>
    </form>

    <script>
        document.getElementById('uploadButton').addEventListener('click', function() {
            document.querySelector('#id_file').click();
        });

        document.querySelector('#id_file').addEventListener('change', function() {
            document.getElementById('uploadForm').submit();
        });
    </script>
    {% for protocol in protocols %}
        <div class="protocol shadow-lg w-1/5 rounded-lg m-10 p-2 flex flex-row">
            <div class="w-1/3" class="protocol-image ">
                <img src="{% static 'images/report-image.png' %}" alt="Opis obrazu">
                <a href="{% url 'protocolsapp:protocol_detail' protocol.id %}" class="rounded-full py-2 px-4 bg-indigo-400 hover:bg-indigo-500 text-white text-base font-normal mt-3" type='submit'>Szczegóły</a>
            </div>
            <div class="flex flex-column">
                <div class="font-bold">{{protocol.title}}</div>
                <div>{{protocol.description}}</div>
            </div>
        </div>
    {% endfor %}
</div>
{% endblock %}